using System;
class Program
{
    // Задание 1: Составить Процедуру вывода информации о версии ОС, текущей дате и времени
    static void task_1()
    {
        // Выполнение задания 1:
        Console.WriteLine("Лабораторная работа 1");
        Console.WriteLine("Задание 1, Вариант 7: Вывести информацию о версии Операционной Системы, текущей даты и времени");
        // Выводим версию операционной системы
        Console.WriteLine("Версия операционной системы: " + Environment.OSVersion);
        // Выводим текущую дату и время
        Console.WriteLine("Текущая дата и время: " + DateTime.Now);
    }
    // Задание 2: Составить Процедуру для расчёта функции (Вариант 7: 1/4   *   (   (1+x^2) / (1-x)  + 1/2  * tg x )
    // значения должны задаваться в диалоге с использованием метода Console.ReadLine().
    // Процедура для вычисления заданной функции
    static void task_2()
    {
        Console.WriteLine("Задание 2, Вариант 7: Вычислить функцию f(x), x задаёт пользователь");
        Console.WriteLine("f(x)  =  1/4   *   (   (1+x^2) / (1-x)  + 1/2  * tg x ) ");
        Console.WriteLine("т.к. мы видим, что в скобках в дроби в знаменателе 1-x, то x не может быть равен 1, т.к. 1-1=0, а на 0 делить нельзя");

        // Цикл для повторного ввода
        while (true)
        {
            // Просим пользователя ввести значение x
            Console.WriteLine("-----------");
            Console.WriteLine("f(x)  =  1/4  *  (  (1 + x^2) / (1 - x) + 1/2 * tg x ) ");
            Console.Write("Введите значение x (не равное 1) или 'exit' для выхода: ");

            // Считываем введенное значение с консоли
            string input = Console.ReadLine();

            // Проверяем, хочет ли пользователь выйти
            if (input.ToLower() == "exit" || input.ToLower() == "выход")
            {
                Console.WriteLine("Выход из программы.");
                break;
            }

            // Преобразуем в число
            if (double.TryParse(input, out double x))
            {
                // Проверяем, что x не равен 1, так как это приведет к делению на 0
                if (x == 1)
                {
                    Console.WriteLine("Ошибка: деление на ноль при x = 1. Введите другое значение.");
                    continue; // Возвращаемся к началу цикла
                }
                // Вычисляем значение функции по формуле
                double result = 0.25 * ((1 + Math.Pow(x, 2)) / (1 - x) + 0.5 * Math.Tan(x));
                // Выводим результат вычислений
                Console.WriteLine("Результат вычисления функции: " + result);
            }
            else
            {
                // Сообщаем пользователю об ошибке ввода
                Console.WriteLine("Ошибка: введено некорректное значение x.");
            }
        }
    }
    static void Main()
    {
        // Вызываем процедуру для отображения информации о системе
        task_1();
        // Разделяем вывод для удобочитаемости
        Console.WriteLine("---------------------------");
        // Вызываем процедуру для расчета функции
        task_2();

        // Ждём нажатия клавиши перед закрытием
        Console.WriteLine("\nНажмите любую клавишу для завершения...");
        Console.ReadKey();
    }
}